import{p as M,a2 as P,A as v,r as ae,e as w,bB as oe,bC as F,aM as U,q as T,a3 as X,bD as ne,aF as se,B as le,W as ue,X as ie,E as re,M as L,a4 as ce,ah as ve,l as ye,ak as de,aE as pe,s as fe,f as $,bE as me,G as ge}from"./DZR_Vk-B.js";const z=Symbol.for("vuetify:layout"),Z=Symbol.for("vuetify:layout-item"),K=1e3,he=M({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),we=M({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Le(){const t=P(z);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:T(),getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function $e(t){const o=P(z);if(!o)throw new Error("[Vuetify] Could not find injected layout");const s=t.id??`layout-item-${se()}`,u=U("useLayoutItem");X(Z,{id:s});const n=le(!1);ue(()=>n.value=!0),ie(()=>n.value=!1);const r=T(),{layoutItemStyles:l,layoutItemScrimStyles:c}=o.register(u,{...t,active:v(()=>n.value?!1:t.active.value),id:s});return re(()=>o.unregister(s)),{layoutItemStyles:l,layoutRect:o.layoutRect,layoutItemScrimStyles:c,layoutIsReady:r}}const Ie=(t,o,s,u)=>{let n={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...n}}];for(const l of t){const c=o.get(l),p=s.get(l),f=u.get(l);if(!c||!p||!f)continue;const h={...n,[c.value]:parseInt(n[c.value],10)+(f.value?parseInt(p.value,10):0)};r.push({id:l,layer:h}),n=h}return r};function xe(t){const o=P(z,null),s=v(()=>o?o.rootZIndex.value-100:K),u=ae([]),n=w(new Map),r=w(new Map),l=w(new Map),c=w(new Map),p=w(new Map),{resizeRef:f,contentRect:h}=oe(),I=F(()=>{const a=[...new Set([...l.values()].map(e=>e.value))].sort((e,m)=>e-m),y=[];for(const e of a){const m=u.value.filter(i=>{var g;return((g=l.get(i))==null?void 0:g.value)===e});y.push(...m)}return Ie(y,n,r,c)}),O=v(()=>!Array.from(p.values()).some(a=>a.value)),x=v(()=>I.value[I.value.length-1].layer),_=v(()=>({"--v-layout-left":L(x.value.left),"--v-layout-right":L(x.value.right),"--v-layout-top":L(x.value.top),"--v-layout-bottom":L(x.value.bottom),...O.value?void 0:{transition:"none"}})),b=F(()=>I.value.slice(1).map((a,y)=>{let{id:e}=a;const{layer:m}=I.value[y],i=r.get(e),g=n.get(e);return{id:e,...m,size:Number(i.value),position:g.value}})),B=a=>b.value.find(y=>y.id===a),C=U("createLayout"),H=T();X(z,{register:(a,y)=>{let{id:e,order:m,position:i,layoutSize:g,elementSize:R,active:N,disableTransitions:j,absolute:G}=y;l.set(e,m),n.set(e,i),r.set(e,g),c.set(e,N),j&&p.set(e,j);const D=ne(Z,C==null?void 0:C.vnode).indexOf(a);D>-1?u.value.splice(D,0,e):u.value.push(e);const V=v(()=>b.value.findIndex(S=>S.id===e)),A=v(()=>s.value+I.value.length*2-V.value*2),Y=v(()=>{const S=i.value==="left"||i.value==="right",E=i.value==="right",Q=i.value==="bottom",k=R.value??g.value,ee=k===0?"%":"px",te={[i.value]:0,zIndex:A.value,transform:`translate${S?"X":"Y"}(${(N.value?0:-(k===0?100:k))*(E||Q?-1:1)}${ee})`,position:G.value||s.value!==K?"absolute":"fixed",...O.value?void 0:{transition:"none"}};if(V.value<0)throw new Error(`Layout item "${e}" is missing`);const d=b.value[V.value];if(!d)throw new Error(`[Vuetify] Could not find layout item "${e}"`);return{...te,height:S?`calc(100% - ${d.top}px - ${d.bottom}px)`:R.value?`${R.value}px`:void 0,left:E?void 0:`${d.left}px`,right:E?`${d.right}px`:void 0,top:i.value!=="bottom"?`${d.top}px`:void 0,bottom:i.value!=="top"?`${d.bottom}px`:void 0,width:S?R.value?`${R.value}px`:void 0:`calc(100% - ${d.left}px - ${d.right}px)`}}),J=v(()=>({zIndex:A.value-1}));return{layoutItemStyles:Y,layoutItemScrimStyles:J,zIndex:A}},unregister:a=>{l.delete(a),n.delete(a),r.delete(a),c.delete(a),p.delete(a),u.value=u.value.filter(y=>y!==a)},mainRect:x,mainStyles:_,getLayoutItem:B,items:b,layoutRect:h,rootZIndex:s,layoutIsReady:H});const q=v(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),W=v(()=>({zIndex:o?s.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:q,layoutStyles:W,getLayoutItem:B,items:b,layoutRect:h,layoutIsReady:H,layoutRef:f}}const be=M({...ce(),...he({fullHeight:!0}),...ve()},"VApp"),ze=ye()({name:"VApp",props:be(),setup(t,o){let{slots:s}=o;const u=de(t),{layoutClasses:n,getLayoutItem:r,items:l,layoutRef:c}=xe(t),{rtlClasses:p}=pe();return fe(()=>$("div",{ref:c,class:["v-application",u.themeClasses.value,n.value,p.value,t.class],style:[t.style]},[$("div",{class:"v-application__wrap"},[$(me,null,{default:()=>{var f;return[$(ge,null,[(f=s.default)==null?void 0:f.call(s)])]}})])])),{getLayoutItem:r,items:l,theme:u}}});export{ze as V,Le as a,we as m,$e as u};
